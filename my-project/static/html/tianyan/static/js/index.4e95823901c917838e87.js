webpackJsonp([4],{13:function(n,e,t){"use strict";function a(n){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},a=arguments[2];2===arguments.length&&t.i(v.b)(e)&&(a=e,e={});var i=h.a.config(n),r={},o=h.a.filterData(n,e);if(i.contentType){var s=i.contentType;if(-1!=s.indexOf("application/json"))o=f()(o);else if(-1!=s.indexOf("multipart/form-data")){r.contentType=!1,r.processData=!1;var u=new FormData;l()(o).forEach(function(n){var e=o[n];t.i(v.c)(e)?e.forEach(function(e){u.append(n,e)}):u.append(n,e)}),r.data=u}}return p.a.ajax(c()({url:h.a.url(n,e),dataType:"json",data:o},i,r)).done(function(n){if(!n.code)return t.i(d.a)("调后台接口失败:"+n.msg);a&&a(n.result)}).fail(function(){return t.i(d.a)("请求失败: 系统错误")})}function i(n,e,i,r){var o=arguments.length,c=g.a.get("fetchInterval");2===o?(i=e,e=null,r=null):3===o&&(t.i(v.b)(i)?r=null:t.i(v.d)(i)&&(r=i,i=e,e=null)),e=e||{},r=r||c;var s=!1,l=t.i(d.b)(function(){s||a(n,e,i).always(l)},r);return l(!0),{close:function(){s=!0}}}function r(n,e,a){if(2===arguments.length&&t.i(v.b)(e)&&(a=e,e={}),g.a.get("mock")){return i(n,e,a)}var r=new x.a(h.a.url(n,e),[]);return r.onmessage=a,r.onclose=function(){this.close()},window.addEventListener("unload",function n(){window.removeEventListener("unload",n),r.close()}),r}e.a=a,e.b=r;var o=t(17),c=t.n(o),s=t(66),l=t.n(s),u=t(65),f=t.n(u),m=t(4),p=t.n(m),d=t(34),v=t(24),h=t(23),g=t(7),y=t(76),x=t.n(y)},23:function(n,e,t){"use strict";(function(n){function a(n,e){var t=n;if(t&&-1!==t.indexOf("//"))return t;null===t&&(t=""),t=location.host+t;var a=location.protocol;if(e){var i="ws://";"https:"===a&&(i="wss://"),t=i+t}else t=a+"//"+t;return t}var i=t(17),r=t.n(i),o=t(42),c=t.n(o),s=t(7),l=t(24),u={},f=/:([^\/\d][^\/]+)/g;e.a={merge:function(n){var e=this,t=void 0,i=void 0,r=s.a.get("mock");s.a.get("proxy")?(t=s.a.get("proxyHost"),i=s.a.get("websocketProxyHost")):(t=a(s.a.get("host")),i=a(s.a.get("websocketHost"),!0));for(var o in n)if(Object.prototype.hasOwnProperty.call(n,o)&&{}.hasOwnProperty.call(n,o)){var l=!1,f=n[o],m=f.config||{},p=f.url;!0===f.isWebsocket&&(l=!0),m.type||(m.type="get"),m.type=m.type.toLowerCase(),u[o]={url:(l?i:t)+p,config:m},r&&f.mock&&c.a.mock(e.reg(o),m.type,f.mock)}},rawUrl:function(n){return u[n].url},url:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.rawUrl(e).replace(f,function(e,a){var i=t[a];return void 0===i&&(i="null"),n.encodeURIComponent(i)})},reg:function(n){var e=this,t=e.rawUrl(n),a=t.replace(/\./g,"\\.").replace(f,"[^/]+");return new RegExp("^"+a+"(\\?.*)?$")},config:function(n){return u[n]&&u[n].config},filterData:function(n,e){var a=this;if(!t.i(l.a)(e))return e;for(var i=r()({},e),o=a.rawUrl(n),c=void 0;c=f.exec(o);){delete i[c[1]]}return i}}}).call(e,t(27))},24:function(n,e,t){"use strict";function a(n,e){return Object.prototype.toString.call(n)==="[object "+e+"]"}function i(n){return a(n,"Object")}function r(n){return a(n,"Function")}function o(n){return a(n,"Number")}function c(n){return a(n,"Array")}e.a=i,e.b=r,e.d=o,e.c=c},26:function(n,e,t){"use strict";var a=t(75),i=(t.n(a),t(38)),r=(t.n(i),t(35)),o=t(7),c=t(23),s=t(33);e.a={load:function(n){var e=this;o.a.merge(s.a),o.a.merge(n.config),c.a.merge(n.apis),e.initZoom(),n.init()},initZoom:function(){o.a.get("zoom")&&(t.i(r.a)(),window.addEventListener("resize",r.b),t.i(r.b)())}}},274:function(n,e,t){"use strict";var a=t(5),i=t.n(a),r=t(6),o=t.n(r),c=t(649),s=(t.n(c),t(4)),l=t.n(s),u=t(13),f=t(666),m=t.n(f),p=t(667),d=t.n(p),v=function(){function n(e){i()(this,n),l()(e).append(m.a)}return o()(n,[{key:"render",value:function(){t.i(u.a)("fetchCameraDis",function(n){l()(".count .value").text(n.cameraDis.total),l()(".count-list").html(d()(n.cameraDis.list))})}}]),n}();e.a=v},275:function(n,e,t){"use strict";var a=t(5),i=t.n(a),r=t(6),o=t.n(r),c=t(650),s=(t.n(c),t(4)),l=t.n(s),u=t(13),f=t(668),m=t.n(f),p=function(){function n(e){i()(this,n),l()(e).append(m.a)}return o()(n,[{key:"render",value:function(){var n=this;t.i(u.a)("fetchOnline",function(n){l()(".online span").text(n.online+"人")}),t.i(u.a)("fetchUser",function(n){l()(".username").text(n.user)}),n.renderTime(),n.bindEvent()}},{key:"renderTime",value:function(){var n=this;setInterval(function(){n.getCurrentDate()},6e3)}},{key:"getServerDate",value:function(){t.i(u.b)("fetchTimewebsocket",1,function(n){var e=JSON.parse(n.data);e=e.result;var t=e.slice(0,4),a=e.slice(4,6),i=e.slice(6,8),r=e.slice(8,10),o=e.slice(10,12),c=t+"."+a+"."+i;l()(".timer-date").text(c),l()(".timer-hour").text(r+":"+o)})}},{key:"getCurrentDate",value:function(){var n=this,e=new Date,t=e.getFullYear(),a=n.formateDate(e.getMonth()+1),i=n.formateDate(e.getDate()),r=n.formateDate(e.getHours()),o=n.formateDate(e.getMinutes()),c=t+"."+a+"."+i;l()(".timer-date").text(c),l()(".timer-hour").text(r+":"+o)}},{key:"formateDate",value:function(n){return n<10?"0"+n:n}},{key:"bindEvent",value:function(){l()(".out-system").on("click",function(){t.i(u.a)("fetchLogout",function(n){window.location=n.logout})})}}]),n}();e.a=p},276:function(n,e,t){"use strict";var a=t(5),i=t.n(a),r=t(6),o=t.n(r),c=t(651),s=(t.n(c),t(4)),l=t.n(s),u=t(15),f=t.n(u),m=t(669),p=t.n(m),d=t(755),v=t.n(d),h=v.a.system,g=function(){function n(e){i()(this,n),l()(e).append(p()(h));var t=f.a.layout.pie().value(function(){return 1}).sort(null);this.pieData=t(h),this.arc=f.a.svg.arc().innerRadius(200).outerRadius(580)}return o()(n,[{key:"render",value:function(){var n=this,e=[];f.a.select(".navs-list").selectAll("a").each(function(t,a){var i=n.arc.centroid(n.pieData[a]);e.push(i)}),h.map(function(n,t){l()(".navs-list").find("a").eq(t).css("left",e[t][0]-113).css("top",e[t][1]-112.5)})}}]),n}();e.a=g},277:function(n,e,t){"use strict";e.a={mapTileUrl:"https://api.mapbox.com/styles/v1/baizn/cj60h9n5b1o1t2smjct2ack3d/tiles/256/{z}/{x}/{y}?access_token=pk.eyJ1IjoiYmFpem4iLCJhIjoiY2o1aXkxbDk4MWwwaDMzbW5oaDNxN240bCJ9.RKUQwXa57CuEaYhZBafuqw",localMapWmsUrl:"http://10.88.8.151:8081/geoserver/hygis/wms",localTianjinMapTileUrl:"http://10.93.9.3:8888/layers_tianjin/_alllayers",mapZoom:9.5,mapCenter:[13078573.75444912,4800741.73727404],chartLegendColors:["#4ad1fd","#f1594c","#00ffbc","#01fffd","#ffaf12","#f99d34","#00fa9e","#fff001"],zoom:!0}},278:function(n,e,t){"use strict";var a=t(327),i=t(325),r=t(323),o=t(324),c=t(326);e.a={fetchUser:a.a,fetchOnline:i.a,fetchCameraDis:r.a,fetchLogout:o.a,fetchTimewebsocket:c.a}},291:function(n,e){},322:function(n,e,t){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var a=t(291),i=(t.n(a),t(26)),r=t(277),o=t(278),c=t(275),s=t(274),l=t(276);i.a.load({apis:o.a,config:r.a,init:function(){var n=new c.a(".header"),e=new s.a(".pages-left"),t=new l.a(".pages-right");n.render(),e.render(),t.render()}})},323:function(n,e,t){"use strict";e.a={url:"eyesight/home/cameraDis",mock:{code:1,msg:"success",result:{cameraDis:{"total|1000-20000":1,"list|10":[{"name|+1":["江北","沙坪坝","渝北","渝中","南岸","九龙坡","大渡口","北碚","巴南","璧山"],"value|1-3000":1}]}}}}},324:function(n,e,t){"use strict";e.a={url:"eyesight/home/logout",mock:{code:1,msg:"success",result:{logout:"http://www.baidu.com"}}}},325:function(n,e,t){"use strict";e.a={url:"eyesight/home/online",mock:{code:1,msg:"success",result:{"online|1-1000":1}}}},326:function(n,e,t){"use strict";var a=t(42),i=t.n(a);e.a={url:"/timewebsocket/time",isWebsocket:!0,mock:{code:1,msg:"success",result:i.a.Random.date("yyyyMMdd")}}},327:function(n,e,t){"use strict";e.a={url:"eyesight/home/user",mock:{code:1,msg:"success",result:{user:"@cname"}}}},33:function(n,e,t){"use strict";(function(n){var t=n.location.search;e.a={mock:1!==t.indexOf("mock"),mockInterval:3500,fetchInterval:3e3,proxy:-1!==t.indexOf("proxy"),host:"/api/",websocketHost:"ws://online.com",proxyHost:"http://192.168.1.199:3000/api",websocketProxyHost:"ws://offline.com",zoom:!0,pageWidth:1920,pageHeight:1080}}).call(e,t(27))},34:function(n,e,t){"use strict";function a(n,e){return function(t){!0===t?n():setTimeout(n,e)}}t.d(e,"a",function(){return o}),e.b=a;var i=t(4),r=t.n(i),o=function(n){var e=t(40),a=e({data:n});return r()(".error-dialog").html(a),r()("#errorDialog").fadeIn(50),r()("#errorDialog").on("click",".close-model",function(n){n.stopPropagation(),n.preventDefault(),r()("#errorDialog").fadeOut(50),r()(".error-dialog").empty()}),!1}},35:function(n,e,t){"use strict";function a(){var n=window.innerWidth/o.a.get("pageWidth"),e=window.innerHeight/o.a.get("pageHeight");u=[n,e],l.css("transform","scale("+n+", "+e+")")}function i(){l.addClass("zoomify").css("width",o.a.get("pageWidth")).css("height",o.a.get("pageHeight"))}e.b=a,e.a=i;var r=t(39),o=(t.n(r),t(7)),c=t(4),s=t.n(c),l=s()("body"),u=[1,1]},38:function(n,e){},39:function(n,e){},40:function(n,e,t){var a=t(11);n.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(n,e,t,a,i){var r;return'<div class="model-bg" id="errorDialog">\r\n  <div class="model-container">\r\n    <div class="model-body">'+n.escapeExpression((r=null!=(r=t.data||(null!=e?e.data:e))?r:t.helperMissing,"function"==typeof r?r.call(null!=e?e:n.nullContext||{},{name:"data",hash:{},data:i}):r))+'</div>\r\n        \r\n    <div class="close-model"></div>\r\n  </div>\r\n</div>'},useData:!0})},649:function(n,e){},650:function(n,e){},651:function(n,e){},666:function(n,e,t){var a=t(11);n.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(n,e,t,a,i){return'<div class="camera-header">\r\n  <div class="title">全市摄像头分布情况</div>\r\n  \x3c!-- 总数统计 --\x3e\r\n  <div class="count">\r\n    <p>总量<span>个</span></p>\r\n    <p class="value">18301</p>\r\n  </div>\r\n  \r\n  \x3c!-- 地区列表 --\x3e\r\n  <ul class="count-list">\r\n  </ul>\r\n</div>'},useData:!0})},667:function(n,e,t){var a=t(11);n.exports=(a.default||a).template({1:function(n,e,t,a,i){var r,o=null!=e?e:n.nullContext||{},c=t.helperMissing,s=n.escapeExpression;return"  <li><p>"+s((r=null!=(r=t.name||(null!=e?e.name:e))?r:c,"function"==typeof r?r.call(o,{name:"name",hash:{},data:i}):r))+"</p>"+s((r=null!=(r=t.value||(null!=e?e.value:e))?r:c,"function"==typeof r?r.call(o,{name:"value",hash:{},data:i}):r))+"</li>\r\n"},compiler:[7,">= 4.0.0"],main:function(n,e,t,a,i){var r;return null!=(r=t.each.call(null!=e?e:n.nullContext||{},e,{name:"each",hash:{},fn:n.program(1,i,0),inverse:n.noop,data:i}))?r:""},useData:!0})},668:function(n,e,t){var a=t(11);n.exports=(a.default||a).template({compiler:[7,">= 4.0.0"],main:function(n,e,t,a,i){return'<div class="online">\r\n  <i></i> 在线人数 <span>345人</span>\r\n</div>\r\n\r\n<div class="header-timer">\r\n  <span class="timer-date">2018.01.03</span>\r\n  <span class="timer-hour">12:00</span>\r\n</div>\r\n\r\n\x3c!-- user --\x3e\r\n<div class="header-user">\r\n  <span class="username">前端</span>\r\n  <span class="out-system">[退出系统]</span>\r\n</div>'},useData:!0})},669:function(n,e,t){var a=t(11);n.exports=(a.default||a).template({1:function(n,e,t,a,i){var r,o=null!=e?e:n.nullContext||{},c=t.helperMissing,s=n.escapeExpression;return'    <a href="'+s((r=null!=(r=t.url||(null!=e?e.url:e))?r:c,"function"==typeof r?r.call(o,{name:"url",hash:{},data:i}):r))+'">\r\n      <i style="background: url('+s((r=null!=(r=t.icon||(null!=e?e.icon:e))?r:c,"function"==typeof r?r.call(o,{name:"icon",hash:{},data:i}):r))+') no-repeat center center;"></i><span>'+s((r=null!=(r=t.name||(null!=e?e.name:e))?r:c,"function"==typeof r?r.call(o,{name:"name",hash:{},data:i}):r))+"</span>\r\n    </a>\r\n"},compiler:[7,">= 4.0.0"],main:function(n,e,t,a,i){var r;return'<div class="navs-list">\r\n'+(null!=(r=t.each.call(null!=e?e:n.nullContext||{},e,{name:"each",hash:{},fn:n.program(1,i,0),inverse:n.noop,data:i}))?r:"")+"</div> "},useData:!0})},7:function(n,e,t){"use strict";var a=t(17),i=t.n(a),r={};e.a={merge:function(n){r=i()({},r,n)},get:function(n){return r[n]}}},755:function(n,e){n.exports={system:[{name:"案管中心",icon:"static/img/agzx.png",url:"/static/html/tianyan/analysis.html"},{name:"侦控中心",icon:"static/img/zkzx.png",url:"/static/html/tianyan/analysis.html"},{name:"查询中心",icon:"static/img/cxzx.png",url:"/static/html/tianyan/analysis.html"},{name:"分析中心",icon:"static/img/fxzx.png",url:"/static/html/tianyan/analysis.html"},{name:"执法监督",icon:"static/img/zfjd.png",url:"/static/html/tianyan/analysis.html"},{name:"管理中心",icon:"static/img/glzx.png",url:"/static/html/tianyan/analysis.html"},{name:"网侦中心",icon:"static/img/wzzx.png",url:"/static/html/tianyan/analysis.html"},{name:"指挥中心",icon:"static/img/zhzx.png",url:"/static/html/tianyan/analysis.html"},{name:"情报中心",icon:"static/img/qbzx.png",url:"/static/html/tianyan/analysis.html"}]}}},[322]);
//# sourceMappingURL=index.4e95823901c917838e87.js.map